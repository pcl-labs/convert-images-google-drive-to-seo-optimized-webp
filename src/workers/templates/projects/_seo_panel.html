<section
  id="project-seo-panel"
  class="mb-6 rounded-2xl border border-border bg-surface px-4 py-4 shadow-sm"
  data-project-id="{{ project.project_id }}"
  data-initial-analysis="{{ ((initial_seo_analysis | tojson) if initial_seo_analysis is not none else 'null') | e }}"
>
  <header class="flex items-center justify-between gap-3">
    <div class="min-w-0">
      <p class="text-[11px] uppercase tracking-wide text-contentMuted font-medium">SEO insights</p>
      <p class="text-xs text-contentMuted" data-seo-summary>Run an analysis to see readability, keyword, and schema health.</p>
    </div>
    <button
      type="button"
      class="btn-ghost text-xs px-3 py-1"
      data-action="refresh-seo"
    >
      Analyze
    </button>
  </header>

  <div class="mt-3 text-xs text-contentMuted" data-seo-loading>
    Ready to analyze this draft.
  </div>
  <div class="mt-3 hidden rounded-md border border-destructive/40 bg-destructive/10 px-3 py-2 text-xs text-destructive" data-seo-error></div>

  <div class="mt-3 hidden space-y-4" data-seo-content>
    <div class="rounded-xl border border-border bg-surface/70 px-3 py-3 space-y-2">
      <div class="flex items-start justify-between gap-3">
        <div class="min-w-0">
          <p class="text-sm font-semibold text-content truncate" data-seo-title>
            —
          </p>
          <p class="text-xs text-contentMuted line-clamp-2" data-seo-description>
            —
          </p>
        </div>
        <div class="text-right text-[11px] text-contentMuted space-y-1">
          <p data-seo-analyzed-at>Never analyzed</p>
          <span class="inline-flex items-center rounded-full bg-accent/10 px-2 py-0.5 text-[10px] font-medium text-accent hidden" data-seo-cache-badge>
            Cached
          </span>
        </div>
      </div>
      <div class="flex flex-wrap gap-3 text-[11px] text-contentMuted">
        <div><span class="font-medium text-content" data-seo-word-count>—</span> words</div>
        <div><span class="font-medium text-content" data-seo-reading-time>—</span> min read</div>
        <div>Schema: <span class="font-medium text-content" data-seo-schema>—</span></div>
      </div>
      <div class="flex flex-wrap gap-1 text-[11px]" data-seo-keywords></div>
    </div>

    <div class="space-y-3" data-seo-scores></div>

    <div class="rounded-xl border border-border bg-surface/60 px-3 py-3">
      <p class="text-xs font-semibold text-content mb-2">Suggestions</p>
      <div class="space-y-2 text-[11px]" data-seo-suggestions>
        <p class="text-contentMuted text-xs">No suggestions yet.</p>
      </div>
    </div>
  </div>
</section>
