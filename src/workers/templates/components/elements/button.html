{% macro button(label, variant="primary", attrs="", with_spinner=False, spinner_id=None, extra_classes="", inner="" ) %}
  {% set variant_classes = {
    'primary': 'btn-primary',
    'secondary': 'btn-secondary',
    'destructive': 'btn-destructive',
    'ghost': 'btn-ghost'
  } %}
  <button class="{{ variant_classes.get(variant, variant_classes['primary']) }} {{ extra_classes }}" {{ attrs|safe }}>
    <span>{{ label }}</span>
    {{ inner|safe }}
    {% if with_spinner %}
      <svg {% if spinner_id %}id="{{ spinner_id }}"{% endif %} class="htmx-indicator ml-2 animate-spin h-4 w-4 text-current" style="display:none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
      </svg>
    {% endif %}
  </button>
{% endmacro %}
