{% extends "base_public.html" %}
{% set is_signup = view_mode == 'signup' %}
{% set page_title = 'Sign up' if is_signup else 'Login' %}
{% set title = page_title %}
{% block content %}
<div class="min-h-screen flex items-center justify-center px-4 py-12">
  <div class="w-full max-w-md surface rounded-xl p-6">
    <div class="flex items-center justify-center gap-2 mb-4">
      <div class="text-content font-semibold">Quill</div>
    </div>
    <h1 class="text-lg font-semibold text-content text-center">{{ 'Create your account' if is_signup else 'Sign in' }}</h1>
    <p class="text-contentMuted text-sm text-center mt-1">Use GitHub or Google to {{ 'get started' if is_signup else 'continue' }}.</p>

    {% from 'components/elements/alert.html' import alert %}
    {% from 'components/icons/brand_icon.html' import brand_icon %}
    {% if error %}
      <div class="mt-4">{{ alert('error', error) }}</div>
    {% endif %}

    <div class="mt-6 space-y-3">
      <form method="post" action="/auth/github/start">
        <input type="hidden" name="csrf_token" value="{{ csrf_token }}" />
        <button type="submit" class="w-full inline-flex items-center justify-center rounded-md bg-white text-gray-900 hover:bg-gray-50 px-3 py-2 text-sm font-medium shadow-sm">
          <span class="h-4 w-4 mr-2">{{ brand_icon('github') }}</span>
          Continue with GitHub
        </button>
      </form>
      <form method="post" action="/auth/google/login/start">
        <input type="hidden" name="csrf_token" value="{{ csrf_token }}" />
        <button type="submit" class="w-full inline-flex items-center justify-center rounded-md bg-white text-gray-900 hover:bg-gray-50 px-3 py-2 text-sm font-medium shadow-sm">
          <span class="h-4 w-4 mr-2">{{ brand_icon('google') }}</span>
          Continue with Google
        </button>
      </form>
    </div>
    <p class="mt-6 text-center text-sm text-contentMuted">
      {% if is_signup %}
        Already have an account?
        <a href="/login" class="text-primary hover:text-primary/80">Log in</a>
      {% else %}
        New here?
        <a href="/signup" class="text-primary hover:text-primary/80">Sign up</a>
      {% endif %}
    </p>
  </div>
</div>
{% endblock %}
