{% extends "base.html" %}
{% set page_title = 'Account' %}
{% from 'components/layout/page.html' import page_container, page_header %}
{% block content %}
{% call page_container() %}
  {{ page_header('Account', 'Your profile information') }}

  {% from 'components/elements/card.html' import card %}
  {% call card(title='Profile') %}
    <dl class="space-y-3 text-sm text-content">
      <div class="flex flex-col">
        <dt class="text-xs font-semibold uppercase tracking-wide text-contentMuted">User ID</dt>
        <dd class="font-mono break-all text-content">{{ user.user_id }}</dd>
      </div>
      <div class="flex flex-col">
        <dt class="text-xs font-semibold uppercase tracking-wide text-contentMuted">GitHub ID</dt>
        <dd class="font-mono break-all text-content">{{ user.github_id or '-' }}</dd>
      </div>
      <div class="flex flex-col">
        <dt class="text-xs font-semibold uppercase tracking-wide text-contentMuted">Google ID</dt>
        <dd class="font-mono break-all text-content">{{ user.google_id or '-' }}</dd>
      </div>
      <div class="flex flex-col">
        <dt class="text-xs font-semibold uppercase tracking-wide text-contentMuted">Email</dt>
        <dd class="font-mono break-all text-content">{{ user.email or '-' }}</dd>
      </div>
      <div class="flex flex-col">
        <dt class="text-xs font-semibold uppercase tracking-wide text-contentMuted">Created</dt>
        <dd>{{ user.created_at or '-' }}</dd>
      </div>
      <div class="flex flex-col">
        <dt class="text-xs font-semibold uppercase tracking-wide text-contentMuted">Connected providers</dt>
        <dd class="space-y-1">
          <div class="flex items-center justify-between">
            <span>GitHub</span>
            <span class="text-xs font-mono text-contentMuted">{{ user.github_id or 'Not connected' }}</span>
          </div>
          <div class="flex items-center justify-between">
            <span>Google</span>
            <span class="text-xs font-mono text-contentMuted">{{ user.google_id or 'Not connected' }}</span>
          </div>
        </dd>
      </div>
    </dl>
  {% endcall %}

  <div class="flex flex-col items-stretch gap-2 md:flex-row md:justify-end">
    <form method="post" action="/auth/logout">
      <input type="hidden" name="csrf_token" value="{{ csrf_token }}" />
      {% from 'components/elements/button.html' import button %}
      {{ button('Log out', variant='secondary', attrs='type="submit"', extra_classes='inline-flex items-center gap-2') }}
    </form>
  </div>
{% endcall %}
{% endblock %}
